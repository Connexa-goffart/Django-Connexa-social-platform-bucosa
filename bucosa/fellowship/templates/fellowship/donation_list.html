{% extends 'base.html' %}
{% load humanize %}
{% block content %}
<h2 class="text-3xl font-bold mb-8 text-center text-green-700">Donation Submissions</h2>
<div class="overflow-x-auto">
  <table class="min-w-full bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200">
      <thead class="bg-gray-100 sticky top-0 z-10">
          <tr>
              <th class="py-4 px-6 text-left font-bold text-gray-700 whitespace-nowrap">Name</th>
              <th class="py-4 px-6 text-left font-bold text-gray-700 whitespace-nowrap">Email</th>
              <th class="py-4 px-6 text-right font-bold text-gray-700 whitespace-nowrap">Amount</th>
              <th class="py-4 px-6 text-left font-bold text-gray-700 whitespace-nowrap">Payment Method</th>
              <th class="py-4 px-6 text-left font-bold text-gray-700 whitespace-nowrap">Mobile Money Number</th>
              <th class="py-4 px-6 text-left font-bold text-gray-700 whitespace-nowrap">Date Submitted</th>
              <th class="py-4 px-6 text-center font-bold text-gray-700 whitespace-nowrap">Contact</th>
          </tr>
      </thead>
      <tbody>
          {% for donation in donations %}
          <tr class="border-b transition duration-150 ease-in-out {{ forloop.counter0|divisibleby:2|yesno:'bg-gray-50,bg-white' }} hover:bg-green-100">
              <td class="py-4 px-6 text-gray-900 whitespace-nowrap rounded-l-lg">{{ donation.name }}</td>
              <td class="py-4 px-6 text-gray-900 whitespace-nowrap">{{ donation.email }}</td>
              <td class="py-4 px-6 text-right text-green-700 font-semibold whitespace-nowrap">{{ donation.amount|intcomma }}</td>
              <td class="py-4 px-6 text-gray-900 whitespace-nowrap">{{ donation.payment_method }}</td>
              <td class="py-4 px-6 text-gray-900 whitespace-nowrap">{{ donation.mobile_money_number }}</td>
              <td class="py-4 px-6 text-gray-900 whitespace-nowrap">{{ donation.time_send|date:'F d, Y' }}</td>
              <td class="py-4 px-6 text-center whitespace-nowrap rounded-r-lg">
                  <a href="mailto:{{ donation.email }}" class="text-blue-600 hover:underline font-semibold">Email</a>
              </td>
          </tr>
          {% empty %}
          <tr><td colspan="7" class="text-center py-6 text-gray-400">No donations yet.</td></tr>
          {% endfor %}
      </tbody>
  </table>
</div>
<p class="mt-8 text-center text-gray-500 text-base">Click the <span class="text-blue-600 font-semibold">Email</span> link to respond to a donor.</p>
{% endblock %}
